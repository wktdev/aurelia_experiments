<template>
  <require from="./css/app.css"></require>

  <div class="container"> 

  <h1>${heading}</h1>

  <form class="start-and-end-dates" submit.trigger="addWorkEnteries()">
    <input type="date" value.bind="startDate">
    <input type="date" value.bind="endDate">
    <button type="submit">Add work</button>
  </form>


  <form submit.trigger="setAllHours(hours)  setAllRates(payRate)  setAllworkPayment(payRate,hours) setTotalHours() setTotalPayment()">
    <label for="work-rate-all">Work rate (all)</label>
    <input type="number" value.bind="payRate" step="any" name="work-rate-all" >
    <label for="hours-all">Hours (all)</label>
    <input type="number" value.bind="hours" step="any" name="hours-all">
    <button type="submit" >Set all rate and hours</button>
  </form>

  <ul class="all-items">
    <li repeat.for="work of workEntries">
    <label for="date">Date</label>
    <input type="date" value.bind="work.date" change.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()" keyup.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()"  name="date">
      <label for="item">Item</label>
    <input class="work-item" type="string" value.bind="work.item" change.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()"  keyup.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()"  name="item">
      <label for="pay-rate">Pay rate</label>
    <input type="number" value.bind="work.payRate" change.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()" keyup.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()"  name="pay-rate">
      <label for="hours">Hours</label>
    <input type="number" value.bind="work.hours"  change.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()"  keyup.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()"  name="hours">
      <label for="payment">Payment</label>
    <input type="number" value.bind="work.payment" change.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()" keyup.trigger="updateWorkEntryField(work) setTotalHours() setTotalPayment()"  name="payment">
    <button click.trigger="updateWorkEntry(work)">Update</button>
    <button click.trigger="removeWorkEntry(work)">Remove</button>
    <button click.trigger="copyWorkEntry(work)">Copy</button>
    </li>    
  </ul>

  <ul class="totals">
  <li>
  <span>Hours total</span>
  ${hoursTotal}
  </li>

    <li>
    <span>Pay total</span>
  ${payTotal}
  </li>
    
  </ul>

  </div>
</template>